$(document).on("ready",function(){});var itemsArr=[],itemsArrDrinkPlate=[],tempDietArray=[],totalPlatesOrdered=[],totalPlatesPrice=0,FoodItem=function(e,t,r,i,n){this.name=e,this.calories=t,this.vegan=r,this.glutenFree=i,this.citrusFree=n,itemsArr.push(this),this.toString=function(){var e=this.name;return e},this.createDOM=function(){return $('<div class="food-item">').text(this.name)}},printMenu=function(e){for(var t=0;t<e.length;t++)console.log(e[t].toString())},Salad=new FoodItem("Chef Salad",300,!0,!1,!0),kidsSalad=new FoodItem("Bunny Food",150,!0,!0,!1),kidsDessert=new FoodItem("Clown Ice Cream",600,!1,!1,!1);printMenu(itemsArr);var DrinkPlate=function(e,t,r,i){this.name=e,this.description=t,this.price=r,this.ingrediants=i,itemsArrDrinkPlate.push(this),this.toStringPlate=function(){var e=this.name+" Description: "+this.description+" Price: $"+this.price+"  Ingrediants: "+this.ingrediants.toString();return e},this.createDOM=function(){for(var e=0,t=!0,r=!0,i=!0,n=0;n<this.ingrediants.length;n++){var a=this.ingrediants[n];e+=a.calories;var o=a.glutenFree,s=a.vegan,c=a.citrusFree;o===!1&&(t=!1),s===!1&&(r=!1),c===!1&&(i=!1)}this.calorieCount=e;var u=$('<div class="drink-plate"><div class="item-name"><strong>'+this.name+'</strong></div><div class="item-price">Price: $ '+this.price+"</div><div>"+this.ingrediants.join(", ")+"</div><div>Calories: "+e+"</div></div>16"),l=dietaryFixing(t),d=dietaryFixing(r),h=dietaryFixing(i);return u.append("<div>Gluten Free: "+l+"</div>"),u.append("<div>Vegan: "+d+"</div>"),u.append("<div>Citrus Free: "+h+"</div>"),u.append('<button class="order-button">Order</button>'),u},this.isVegan=function(){for(var e=0;e<this.ingrediants.length;e++)console.log(this.ingrediants[e].toString())}},dietaryFixing=function(e){var t="";return t=e?"Yes":"No"},OrderMenu=function(e){this.plates=e,this.toStringMenu=function(){for(var e="",t=0;t<this.plates.length;t++){var r=this.plates[t];e=e+"\n"+r.toStringPlate()}return e},this.createDOM=function(){for(var e=$('<div class="menu">'),t=0;t<this.plates.length;t++){var r=this.plates[t].createDOM();e.append(r)}return e}},Resturant=function(e,t,r){this.name=e,this.description=t,this.menu=r,this.resturantList=[],this.resturantList.push(this),this.toString=function(){var e=this.name+" Description: "+this.description+", "+this.menu.toStringMenu();return e},this.createDOM=function(){var e=$('<div class="resturant">');return e.append(this.menu.createDOM())}},Customer=function(e){this.dietaryPreference=e,itemsArrCustomer.push(this),this.toString=function(){return this.dietaryPreference}},newArray=function(e){var t,r=[],i=[];e.sort();for(var n=0;n<e.length;n++)e[n]!==t?(r.push(e[n]),i.push(1)):i[i.length-1]++,t=e[n];for(var a=[],n=0;n<r.length;n++){var o=r[n],s=i[n];if(s>1)var c=s+"x "+o;else var c=o;a.push(c)}return a},searchArrayForObjectProperty=function(e,t,r){var i=$.grep(e,function(e){return e[t]===r});return i},Beef=new FoodItem("Beef",100,!1,!0,!0),Lettuce=new FoodItem("Lettuce",110,!0,!0,!0),WheatCake=new FoodItem("WheatCake",120,!0,!1,!0),Tortillas=new FoodItem("Tortillas",200,!0,!1,!0),Guacamole=new FoodItem("Guacamole",100,!0,!0,!1),Alcohol=new FoodItem("Alcohol",400,!0,!0,!1),beans=new FoodItem("Beans",75,!0,!1,!0),chicken=new FoodItem("Chicken",50,!1,!0,!0),cheese=new FoodItem("Cheese",125,!1,!0,!0),rice=new FoodItem("Rice",200,!1,!0,!0),crazyBurrito=new DrinkPlate("Crazy Burro Burrito","Its a gas",15,[Beef,Lettuce,Tortillas,chicken,cheese,beans,rice,Guacamole,Alcohol]),GuacamoleDip=new DrinkPlate("Guacamole Dip","Green stuff",3,[Lettuce,Guacamole]),Margarita=new DrinkPlate("Margarita","Makes you feel good",5,[Alcohol]),chickenTaco=new DrinkPlate("Chicken Taco","Makes you feel good",8,[Tortillas,chicken,cheese,Lettuce,Guacamole]),cheeseEnchilida=new DrinkPlate("Cheese Enchilida","Makes you feel good",8,[Tortillas,cheese,beans,rice]),chickenBurrito=new DrinkPlate("Chicken Burrito","Makes you feel good",12,[Tortillas,cheese,chicken,Lettuce,rice,beans]),beefTaco=new DrinkPlate("Beef Taco","Makes you feel good",9,[Tortillas,cheese,Beef,Guacamole]),beefBurrito=new DrinkPlate("Beef Burrito","Makes you feel good",12,[Tortillas,cheese,Beef,Lettuce,rice,beans]),cheeseBurrito=new DrinkPlate("Cheese Burrito","Makes you feel good",6,[Tortillas,cheese,Lettuce,rice,beans]),dinnerMenu=new OrderMenu([crazyBurrito,chickenBurrito,beefBurrito,cheeseBurrito,chickenTaco,beefTaco,cheeseEnchilida,GuacamoleDip,Margarita]),Miguels=new Resturant("Miguel's","South of the Border Goodness",dinnerMenu),mainMenuCreate=function(e){$("body").empty();var t=$('<div class="header"><h1>Miguel\'s Resturant</h1><h3>South of the Border Goodness</h3><button class="dietary-buttons vegan">Vegan Meals</button><button class="dietary-buttons gluten">Gluten Free Meals</button><button class="dietary-buttons citrus">Citrus Free Meals</button><button class="reset">Reset Menu Preferences</button></div>');$("body").append($('<div id="main">')),$("#main").append(t);var r=$('<div class="final-order"><p id="item-total-list">Total Items: '+newArray(totalPlatesOrdered).join(", ")+'</p><p id="item-total-price">Total Price: $ '+totalPlatesPrice+'</p><button class="order-submit" type="submit">Submit Order</button></div>');$("#main").append(r);var i=e.createDOM();$("#main").append(i)},outputDietaryMenu=function(e,t){tempDietArray.length=0;for(var r=0;r<itemsArrDrinkPlate.length;r++){var i=itemsArrDrinkPlate[r].ingrediants,n=searchArrayForObjectProperty(i,e,t);console.log(""),console.log("tempFoodItems: "+n),n.length===i.length&&(tempDietArray.push(itemsArrDrinkPlate[r]),console.log("tempDietArray: "+tempDietArray))}var a=new OrderMenu(tempDietArray),o=new Resturant("Miguels","South of the Border Goodeness",a);mainMenuCreate(o)};$(document).on("click",".vegan",function(){outputDietaryMenu("vegan",!0)}),$(document).on("click",".citrus",function(){outputDietaryMenu("citrusFree",!0)}),$(document).on("click",".gluten",function(){outputDietaryMenu("glutenFree",!0)}),$(document).on("click",".order-button",function(){var e=prompt("Number to order: "),t=$(this).siblings(".item-price").text(),r=$(this).siblings(".item-name").text(),i=parseInt(t.slice(9));totalPlatesPrice+=i*e,$("#item-total-price").text("Total Price: $ "+totalPlatesPrice);for(var n=0;e>n;n++)totalPlatesOrdered.push(r);var a=newArray(totalPlatesOrdered);$("#item-total-list").text("Total Items: "+a.join(", ")),console.log("pricePlateValue: "+i)}),$(document).on("click",".reset",function(){mainMenuCreate(Miguels),alert("reset fired")}),mainMenuCreate(Miguels);